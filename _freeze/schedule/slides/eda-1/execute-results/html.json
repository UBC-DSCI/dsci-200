{
  "hash": "141ac9bf1fd05a453b6085ebd9585284",
  "result": {
    "engine": "knitr",
    "markdown": "---\nlecture: \"Exploratory Data Analysis\"\nformat: revealjs\nmetadata-files: \n  - _metadata.yml\n---\n\n\n\n## {{< meta lecture >}} {.large background-image=\"img/smooths.png\" background-opacity=\"0.3\" background-size=\"50%\"}\n\n[DSCI 200]{.secondary}\n\n[{{< meta author >}}]{.secondary}\n\nLast modified -- 05 January 2026\n\n\n\n\n\n\n\n$$\n\\DeclareMathOperator*{\\argmin}{argmin}\n\\DeclareMathOperator*{\\argmax}{argmax}\n\\DeclareMathOperator*{\\minimize}{minimize}\n\\DeclareMathOperator*{\\maximize}{maximize}\n\\DeclareMathOperator*{\\find}{find}\n\\DeclareMathOperator{\\st}{subject\\,\\,to}\n\\newcommand{\\E}{E}\n\\newcommand{\\Expect}[1]{\\E\\left[ #1 \\right]}\n\\newcommand{\\Var}[1]{\\mathrm{Var}\\left[ #1 \\right]}\n\\newcommand{\\Cov}[2]{\\mathrm{Cov}\\left[#1,\\ #2\\right]}\n\\newcommand{\\given}{\\ \\vert\\ }\n\\newcommand{\\X}{\\mathbf{X}}\n\\newcommand{\\x}{\\mathbf{x}}\n\\newcommand{\\y}{\\mathbf{y}}\n\\newcommand{\\P}{\\mathcal{P}}\n\\newcommand{\\R}{\\mathbb{R}}\n\\newcommand{\\norm}[1]{\\left\\lVert #1 \\right\\rVert}\n\\newcommand{\\snorm}[1]{\\lVert #1 \\rVert}\n\\newcommand{\\tr}[1]{\\mbox{tr}(#1)}\n\\newcommand{\\brt}{\\widehat{\\beta}^R_{s}}\n\\newcommand{\\brl}{\\widehat{\\beta}^R_{\\lambda}}\n\\newcommand{\\bls}{\\widehat{\\beta}_{ols}}\n\\newcommand{\\blt}{\\widehat{\\beta}^L_{s}}\n\\newcommand{\\bll}{\\widehat{\\beta}^L_{\\lambda}}\n\\newcommand{\\U}{\\mathbf{U}}\n\\newcommand{\\D}{\\mathbf{D}}\n\\newcommand{\\V}{\\mathbf{V}}\n$$\n\n\n\n\n\n\n\n\n\n\n\n## Welcome to DSCI 200! ðŸŽ‰{.center}\n\n## About us\n\n:::: columns\n\n::: column\n- **Dr. Katie Burak**  \n- [kburak@stat.ubc.ca](mailto:kburak@stat.ubc.ca){.email}  \n- <https://katieburak.github.io/>  \n- Assistant Professor of Teaching, Department of Statistics\n\n<img src=\"https://katieburak.github.io/profile.png\"\n     alt=\"Katie Burak\"\n     width=\"300px\"\n     style=\"border-radius: 50%\" />\n:::\n\n::: column\n- **Dr. Gabriela V. Cohen Freue**  \n- [gcohen@stat.ubc.ca](mailto:gcohen@stat.ubc.ca){.email}  \n- <https://gcohenfr.github.io/>  \n- Professor, Department of Statistics\n\n<img src=\"https://www.stat.ubc.ca/sites/default/files/styles/250x250userphoto/public/profile_portrait/GbrielaCohen.jpeg?itok=yVAE8lfj\"\n     alt=\"Gabriela V. Cohen Freue\"\n     width=\"300px\"\n     style=\"border-radius: 50%\" />\n:::\n\n::::\n\n## Course breakdown\n\n| Deliverable            | Percent Grade |\n|------------------------|---------------|\n| Worksheets             | 7%            |\n| iClicker               | 2%            |\n| Case studies               | 15%            |\n| Midterm                | 25%           |\n| Final                  | 50%           |\n| **Bonus regrade percent** | **1%**        |\n\n## Coruse-level Learning Objectives\n\n:::incremental\n- Conduct exploratory data analysis using statistical and visualization tools to generate hypotheses.\n- Reflect on how data were collected, identify design improvements, and discuss study limitations.\n- Recognize when simulation is useful and design and run appropriate simulations.\n- Detect outliers and anomalies, apply handling strategies, and assess their impact on conclusions.\n- Identify missing data mechanisms, apply handling strategies, and assess their impact on conclusions.\n- Choose a data acquisition strategy and write reproducible scripts to read data.\n- Evaluate data privacy needs, apply suitable privacy techniques, and reflect on their consequences.\n- Determine and justify data ownership in a given context.\n:::\n\n## Course website\n\n[https://ubc-dsci.github.io/dsci-200/](https://ubc-dsci.github.io/dsci-200/)\n\n<div style=\"text-align: center;\">\n  <img src=\"img/course-site.png\" alt=\"Course Site\" width=\"500\">\n</div>\n\n## Attribution\n<br><br>\n\n*This material is adapted from* [*Chapter 10 of R for Data Science (2e)*](https://r4ds.hadley.nz/EDA.html) *and* [*Exploratory Data Analysis with R*](https://bookdown.org/rdpeng/exdata/).\n\n<br><br>\n\n\n## What Is EDA?\n\nBefore jumping into analysis or building models, we need to *understand* the data. This is where exploratory data analysis (EDA) comes in.\n<br><br>\n\nEDA is not a strict process. Instead, it's a flexible and creative cycle where you:\n\n:::incremental\n- Come up with questions about the data  \n- Investigate possible answers using visualizations, transformations, and simple models  \n- Let the answers inspire new or refined questions\n- Eventually, you'll land on insights that are worth digging into and sharing\n:::\n\n\n## EDA \n<br><br>\n\nEven if you're given a clear research question, EDA still plays a key role. It's how we check data quality, spot inconsistencies, and detect patterns. For example, \n\n:::incremental\n- Are there missing values?\n- Do variables have unexpected distributions?\n- Are there data points that don't belong?\n\t- *All of these questions fall under the umbrella of EDA!*\n:::\n\n## Learning Objectives\nBy the end of this lesson, you will be able to:\n\n- Explain the purpose and importance of exploratory data analysis (EDA).\n- Evaluate appropriate statistical measures for central tendency and variability.\n- Select suitable visualizations for different variable types and communication goals.\n- Use computer code to effectively visualize data, including understanding how different layers can be utilized to improve a visualization. \n- Critique visualizations to identify and suggest improvements.\n\n## Data Visualization\n<br><br>\n\n- Data visualization is an important part of EDA.\n- Let's start by reviewing some of the plots we introduced in DSCI 100, as well as introducing some new ones! \n\n## Visualizing Numerical Variables\n<br></br>\n\nThinking back to DSCI 100, what are some examples of plots that can be useful to visualize numerical/quantitative variables?\n\n:::incremental\n- Histograms\n- Boxplots\n- Line plots\n- Jitter plots (new)\n- Violin plots (new)\n:::\n\n\n## Loading the Data\n\nWe will be looking at historical data on Alberta's wildfires. This data set can be found on the [Diverse Data Hub]((https://diverse-data-hub.github.io/)), a resource designed to promote the use of data focused on socially relevant topics. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n\n## \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire <- read_csv(\"data/wildfire.csv\")\nwildfire <- wildfire |> drop_na()\nhead(wildfire)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 Ã— 35\n   year fire_number current_size size_class latitude longitude fire_origin\n  <dbl> <chr>              <dbl> <chr>         <dbl>     <dbl> <chr>      \n1  2006 EWF004              0.01 A              53.5     -117. FPD Staff  \n2  2006 LWF001              0.6  B              55.0     -112. FPD Staff  \n3  2006 RWF105              0.01 A              52.0     -115  HAC1H      \n4  2006 CWF162              0.01 A              49.7     -115. FPD Staff  \n5  2006 WWF072              0.01 A              54.1     -118. HAC1R      \n6  2006 GWF071              0.01 A              55.1     -119. HAC1H      \n# â„¹ 28 more variables: general_cause <chr>, responsible_group <chr>,\n#   activity_class <chr>, true_cause <chr>, fire_start_date <dttm>,\n#   detection_agent_type <chr>, detection_agent <chr>,\n#   assessment_hectares <dbl>, fire_spread_rate <dbl>, fire_type <chr>,\n#   fire_position_on_slope <chr>, weather_conditions_over_fire <chr>,\n#   temperature <dbl>, relative_humidity <dbl>, wind_direction <chr>,\n#   wind_speed <dbl>, fuel_type <chr>, initial_action_by <chr>, â€¦\n```\n\n\n:::\n:::\n\n\n\n\n\n## Boxplot\n\nBoxplot to investigate the temperature conditions (Â°C) for the various wildfires.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |>\n  ggplot(aes(y = temperature)) +\n  geom_boxplot(fill = \"cornflowerblue\", outlier.color = \"maroon\", outlier.alpha = 0.5) +\n  labs(\n    title = \"Boxplot of Temperature\",\n    y = \"Temperature (Â°C)\"\n  ) +\n  theme_minimal() + \n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-4-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## Violin Plot\n\n- Violin plots are an alternative to boxplots that can show more granularity. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |>\n  ggplot(aes(x = \"\", y = temperature)) +\n  geom_violin(fill = \"cornflowerblue\", alpha = 0.6) +\n  labs(\n    title = \"Violin Plot of Temperature\",\n    y = \"Temperature (Â°C)\",\n    x = NULL\n  ) +\n\tcoord_flip() +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-5-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## Jitter plot \n\n- Jitter plots are another way to visualize a numerical variable. \n- You can play around with the width and transparency (`alpha`) to make the plot more readable and avoid too much overlap.\n- As you will see, it's not particularly suitable when you have a large number of observations.\n\n## \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |>\n  ggplot(aes(x = \"\", y = temperature)) +\n  geom_jitter(width = 0.1, alpha = 0.2, color = \"cornflowerblue\") +\n  labs(\n    title = \"Jitter Plot of Temperature\",\n    y = \"Temperature (Â°C)\"\n  ) +\n  theme_minimal() \n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-6-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## Histogram\n\nHistograms also show the distribution of a quantitative variable.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |>\n  ggplot(aes(x = temperature)) +\n  geom_histogram(bins = 30, fill = \"cornflowerblue\", color = \"white\") +\n  labs(\n    title = \"Histogram of Temperature\",\n    x = \"Temperature (Â°C)\",\n    y = \"Count\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-7-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n## Line plots\n\nLine plots help us visualize a quantity over time. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |>\n  group_by(year) |>\n  summarise(avg_temperature = mean(temperature, na.rm = TRUE)) |>\n  ggplot(aes(x = year, y = avg_temperature)) +\n  geom_line(color = \"cornflowerblue\", linewidth = 1) +\n  geom_point(color = \"cornflowerblue\", size = 2) +\n  labs(\n    title = \"Average Temperature Over Time\",\n    x = \"Year\",\n    y = \"Average Temperature (Â°C)\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-8-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## Visualizing Categorical Data\n\nWhat is a plot we can use to visualize categorical variables?\n\n:::incremental\n- Bar plots\n:::\n\n\n## Bar plots\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntrue_cause_summary <- wildfire |>\n  count(true_cause, sort = TRUE) |>\n  slice_max(n, n = 10)\n\n\nbarplot <- ggplot(true_cause_summary,\n       aes(x = n,\n           y = fct_reorder(true_cause, n))) +\n  geom_bar(stat = \"identity\", fill = \"cornflowerblue\") +\n  labs(x = \"Count\", y = \"True Cause\", title = \"Top 10 Wildfire Causes\") + \n  theme(\n  plot.title = element_text(size = 16),\n  axis.title.x = element_text(size = 12),\n  axis.title.y = element_text(size = 12)\n  )\n```\n:::\n\n\n\n\n## \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nbarplot\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-10-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n\n## Asking Questions\n- Now that we have reviewed some common plots, let's get back to the *why*. \n- EDA is driven by questions. Each one shines a light on a different part of the dataset.\n- The goal isnâ€™t to answer every question, but to use them to guide exploration. \n\nHere are some examples: \n\n\n:::incremental\n- What does this variable look like?\n- How does it relate to other variables?\n- Are there unusual values?\n- What patterns emerge over time or across groups?\n:::\n\n##\n\n<br><br>\n\nYou donâ€™t need the perfect question at the start! Often, you wonâ€™t know what to ask until youâ€™ve seen the data...\n<br><br>\n\n:::incremental\n- Start with broad questions  \n- Let early insights shape new, more specific ones  \n- Dig deeper with each iteration  \n:::\n\n## Types of Questions\n\n<br><br>\n\nAlthough there are many types of exploratory questions, we will focus on the following three questions:\n<br><br>\n\n:::incremental\n1. What is the central tendency of my variable(s)?\n2. What type of variation occurs *within* my variables?\n3. What type of covariation occurs *between* my variables?\n:::\n\n## Measures of Central Tendency\n<br><br>\n\n- When we want to summarize a numeric variable with a single value, we often report a measure of central tendency.\n- Common measures include the mean, median and mode. \n\n- These help answer questions like:\n\t- Whatâ€™s typical?\n\t- Whatâ€™s average?\n\t- Whatâ€™s most common?\n\n## The Mean\n<br></br>\n\n- The mean is what most people think of as \"the average\". \n- The sample mean is denoted as $\\bar{x}$ and is calculated by adding up all the values and dividing by how many there are.\n\n$$\\bar{x} = \\sum_{i=1}^n \\frac{x_i}{n},$$\nwhere $x_i$ are the observed values and $n$ is the sample size. \n\n\n\n## The Median\n\n:::incremental\n-  The median is the middle observation in the data when all values are sorted from smallest to largest.\n- 50% of the data will be above and below the median. \n- For an odd number of observations, order them and take the middle value. \n$$\n\\{3, 4, {\\color{blue}6}, 7, 10\\} \\rightarrow \\text{median} = {\\color{blue}6}\n$$\n\n- For an even number of observations, order them and average the two middle values.\n$$\n\\{3, 4, {\\color{blue}6}, {\\color{blue}7}, 10, 12\\} \\rightarrow \\text{median}=\\frac{6+7}{2}=6.5\n$$\n:::\n\n## Discussion\n<br></br>\nWhen reporting household earnings in Vancouver, what measure of center would you choose and why?\n<br></br>\nTake 1-2 minutes to discuss this question with your neighbours and be prepared to discuss as a class! \n\n## Mean vs. Median\n<br></br>\n\n:::incremental\n- The mean can be sensitive to skewness and extreme values (outliers) - *much more to come later in this course about working with outliers!* \n- The median is more robust (less affected) by skewness and outliers in the data.\n- When the data is roughly symmetric with few outliers, the mean and median will be very close.\n- However, in the presence of outliers or skewness, the median may be preferred. \n:::\n\n## Example\n<br></br>\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\na <- c(5,5,6,5.5,4,6)\nb <- c(5,5,6,5.5,4,6,20)\n\nresults <- tibble(\n  Vector = c(\"a\", \"b\"),\n  Mean = c(mean(a), mean(b)),\n  Median = c(median(a), median(b))\n)\n\nprint(results)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 Ã— 3\n  Vector  Mean Median\n  <chr>  <dbl>  <dbl>\n1 a       5.25   5.25\n2 b       7.36   5.5 \n```\n\n\n:::\n:::\n\n\n\n\n\n## iClicker question\n\nThe following is a histogram of relative humidity. Which statement is true?\n\n\n\n\n::: {.cell layout-align=\"center\" autorun='true'}\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-12-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n- A) The mean and median are equal. \n- B) The mean will be greater than the median.\n- C) The median will be greater than the mean.\n- D) Not enough information to make any conclusion.\n\n##\n\nTo verify this, let's compute the mean and median temperature:\n<br></br>\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |> \n  summarise(\n    Mean = mean(temperature, na.rm = TRUE),\n    Median = median(temperature, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 2\n   Mean Median\n  <dbl>  <dbl>\n1  19.2     20\n```\n\n\n:::\n:::\n\n\n\n\n\n## The Mode\n\n- The mode is the most frequent value or category for a variable.\n- Data can be unimodal, bimodal or multimodal (i.e., having more than one \"mode\" or peak).\n- The mode isn't as commonly reported for numerical variables, but it comes in handy as a measure of central tendency for categorical data. \n- For example, reporting the most common cause of wildfires. \n\n\n\n\n::: {.cell layout-align=\"center\" autorun='true'}\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-14-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n\n## Measures of Variablity\n<br></br>\n\n- If we want to understand the variation that occurs within a variable, we need a notion of variaiblity or spread.\n- Common measures include:\n\t- Variance or standard deviation\n\t- Interquartile Range (IQR)\n\t- Range \n\n## Variance\n\n- The variance measures how much the observations deviate from the average value.\n- The sample variance is denoted as $s^2$ and is calculated as \n\n$$s^2 = \\frac{1}{n-1}\\sum_{i=1}^n (x_i-\\bar{x})^2.$$\n\n- If the variance is low, it means the data points are close to the average, so the values are pretty similar to each other.\n- If the variance is high, it means the data points are spread out over a wider range, so the values are more different from each other.\n\n## Standard deviation\n\n- The standard deviation is often used as it is easier to interpret. \n- It is the square root of the variance, so it has the same units as the original data.\n- The sample standard deviation is denoted as $s$ and is calculated as \n\n$$s = \\sqrt{\\frac{1}{n-1}\\sum_{i=1}^n (x_i-\\bar{x})^2}.$$\n\n## Quartiles\n\n- Before we introduce the Interquartile Range (IQR) as a measure of variability, we will first introduce the concept of quartiles. \n- **Quartiles** divide a dataset into four equal parts, each containing 25% of the data.\n  - **Q1 (First Quartile)**: The median of the lower half of the data (25% of the data is below Q1).\n  - **Q2 (Second Quartile / Median)**: The middle value that divides the data into two halves (50% of the data is below Q2).\n  - **Q3 (Third Quartile)**: The median of the upper half of the data (75% of the data is below Q3).\n  \n## \n\n\n\n\n::: {.cell layout-align=\"center\" autorun='true'}\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-15-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## IQR\n\n- The Interquartile Range is the distance between the first quartile (Q1) and third quartile (Q3). That is,\n\n$$\\text{IQR} = {Q3}-{Q1}$$ \n\n\n\n\n::: {.cell layout-align=\"center\" autorun='true'}\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-16-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## \n\nQuartiles define the lines on a boxplot: \n\n\n\n\n::: {.cell layout-align=\"center\" autorun='true'}\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-17-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n##\n\nLet's compute the variance, standard devation and IQR of temperature:\n<br></br>\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |> \n  summarise(\n    variance = var(temperature, na.rm = TRUE),\n    sd = sd(temperature, na.rm = TRUE),\n    IQR = quantile(temperature, 0.75, na.rm = TRUE)- quantile(temperature, 0.25, na.rm = TRUE),\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 3\n  variance    sd   IQR\n     <dbl> <dbl> <dbl>\n1     50.9  7.14     8\n```\n\n\n:::\n:::\n\n\n\n\n\n## iClicker Question\n<br></br>\n\nWhich of the following is true regarding the use of standard deviation compared to the interquartile range (IQR)?\n\n- A) Standard deviation is more resistant to outliers and skewness than the IQR\n- B) IQR is a fairly resistant measure, while standard deviation is more sensitive to outliers and skewness.\n- C) Both standard deviation and IQR are resistant to skewness.\n- D) Neither standard deviation nor IQR are affected by extreme values.\n\n\n## Range\n<br></br>\n\n- The range is simply the difference between the maximum and minimum value of a variable. \n\n$$\\text{range(X)=max(X)-min(X)}$$\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire |> \n  summarise(\n    range = max(temperature, na.rm = TRUE) - min(temperature, na.rm = TRUE)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 1\n  range\n  <dbl>\n1    80\n```\n\n\n:::\n:::\n\n\n\n\n\n## iClicker Question\n<br></br>\n\nWhy can the range be potentially misleading as a measure of variability?\n\n- A) It only considers the middle 50% of the data\n- B) It uses all data points equally\n- C) It is only influenced by the smallest and largest values\n- D) It accounts for how data is clustered around the mean\n\n\n## Covariation\n<br><br>\n\n- Variation measures the variability *within* a variable. \n- Covariation measures the variation *between* two or more variables. \n- The way we measure or investigate covariation depends on the nature of the variables we are interested in, but a good start is to visualize the relationships! \n\n\n## Two categorical variables\n\n- Suppose we wanted to investigate the top 10 causes of wildfires by season. \n\n- We will create a `season` variable and extract the top 10 causes and store it in a separate object: \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Create season variable based on fire_start_date\nwildfire_season <- wildfire |>\n  mutate(\n    month = month(fire_start_date),\n    season = case_when(\n      month %in% c(12, 1, 2) ~ \"Winter\",\n      month %in% 3:5 ~ \"Spring\",\n      month %in% 6:8 ~ \"Summer\",\n      month %in% 9:11 ~ \"Fall\"\n    ),\n    season = factor(season, levels = c(\"Winter\", \"Spring\", \"Summer\", \"Fall\"))\n  )\n\ntop_10_causes <- wildfire |>\n  count(true_cause, sort = TRUE) |>\n  slice_max(n, n = 10) |>\n  pull(true_cause)\n```\n:::\n\n\n\n\n## Contingency table\n\n- Contingency tables can help display infomration for two categorical variables. However, at times they can be difficult to digest and are often better represented visually. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire_season |>\n  filter(!is.na(season), true_cause %in% top_10_causes) |>\n  count(true_cause, season) |>\n  pivot_wider(names_from = season, values_from = n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 Ã— 5\n   true_cause          Winter Spring Summer  Fall\n   <chr>                <int>  <int>  <int> <int>\n 1 Abandoned Fire          38    571    382   276\n 2 Arson Suspected          1    254     27    19\n 3 Burning Substance        5    378    107    58\n 4 Insufficient Buffer     NA    117     20    35\n 5 Line Impact              2    134    131    31\n 6 Mechanical Failure       1     74     47    12\n 7 Permit Related          16    236     35    11\n 8 Unknown                 24   2196   8286   361\n 9 Unsafe Fire             37    576    396   298\n10 Winter Burning          66     69      7    25\n```\n\n\n:::\n:::\n\n\n\n\n## Stacked Bar Plots\n\nRemember that we can stack bar plots so we can include another categorical variable in the visualization. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntrue_cause_season_counts <- wildfire_season |>\n  filter(!is.na(season), true_cause %in% top_10_causes) |>\n  count(true_cause, season)\n\n# Plot stacked bar chart\nstacked_bar <- ggplot(true_cause_season_counts,\n       aes(x = n,\n           y = fct_reorder(true_cause, n),\n           fill = season)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Wildfires by True Cause and Season\",\n    x = \"Count\",\n    y = \"True Cause\",\n    fill = \"Season\"\n  ) +\n  theme_minimal()\n```\n:::\n\n\n\n\n##\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nstacked_bar\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-23-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n## Categorical & Numerical Variables\n\n- To look at the relationship between a categorical variable and a numerical variable, we can look at these plots of a numerical variable separated by each level of a categorical variable. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nviolin_plot2 <- wildfire_season |>\n  filter(!is.na(season)) |>\n  ggplot(aes(x = season, y = temperature, fill = season)) +\n  geom_violin(alpha = 0.6) +\n  labs(\n    title = \"Violin Plot of Temperature by Season\",\n    y = \"Temperature (Â°C)\",\n    x = \"Season\"\n  ) +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n:::\n\n\n\n##\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nviolin_plot2\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-25-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n\n## \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire_season |>\n  filter(!is.na(season)) |>\n  ggplot(aes(x = temperature, fill = season)) +\n  geom_histogram(position = \"identity\", alpha = 0.5, bins = 30, color = \"white\") +\n  labs(\n    title = \"Histogram of Temperature by Season\",\n    x = \"Temperature (Â°C)\",\n    y = \"Count\",\n    fill = \"Season\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-26-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## \n\nRemember the use of `facet_wrap()` can help make complex plots much easier to interpret by splitting the data into multiple panels.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwildfire_season |>\n  filter(!is.na(season)) |>\n  ggplot(aes(x = temperature, fill = season)) +\n  geom_histogram(bins = 30, color = \"white\", alpha = 0.7) +\n  facet_wrap(~ season) +\n  labs(\n    title = \"Histogram of Temperature by Season\",\n    x = \"Temperature (Â°C)\",\n    y = \"Count\"\n  ) +\n  theme_minimal() \n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-27-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n## Two numerical variables\n<br><br>\n\nWe can use a scatterplot to visualize the relationship between two numerical variables. \n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nscatterplot <- wildfire |>\n\tfilter(assessment_hectares > 100)|>\n  ggplot(aes(x = wind_speed, y = assessment_hectares)) +\n  geom_point(alpha = 0.5, color = \"cornflowerblue\") +\n  labs(\n    title = \"Scatterplot of Assessment Hectares vs Wind Speed\",\n    x = \"Wind Speed\",\n    y = \"Assessment Hectares\"\n  ) +\n  theme_minimal()\n```\n:::\n\n\n\n\n## \n\nHow would you describe the relationship between the wind speed and the size of the wildfire in terms of assessment hectares?\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nscatterplot\n```\n\n::: {.cell-output-display}\n![](eda-1_files/figure-revealjs/unnamed-chunk-29-1.svg){fig-align='center'}\n:::\n:::\n\n\n\n\n\n## Next Class\n<br></br>\n\nWe will introduce *correlation* as a way to quantify the relationship between two numerical variables. \n\n## Key Takeaways\n\n- EDA is a flexible, question-driven process to understand your data before modelling\n\n- Visualization helps reveal patterns, outliers and relationships\n\n- Choose appropriate plots based on variable types and what you're trying to show\n\n- Use the right summary based on data shape and presence of outliers\n",
    "supporting": [
      "eda-1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}