[
  {
    "objectID": "schedule/slides/simulation-1.html#section",
    "href": "schedule/slides/simulation-1.html#section",
    "title": "UBC DSCI 200",
    "section": "Simulations - part I",
    "text": "Simulations - part I\nDSCI 200\nKatie Burak, Gabriela V. Cohen Freue\nLast modified – 19 January 2026\n\\[\n\\DeclareMathOperator*{\\argmin}{argmin}\n\\DeclareMathOperator*{\\argmax}{argmax}\n\\DeclareMathOperator*{\\minimize}{minimize}\n\\DeclareMathOperator*{\\maximize}{maximize}\n\\DeclareMathOperator*{\\find}{find}\n\\DeclareMathOperator{\\st}{subject\\,\\,to}\n\\newcommand{\\E}{E}\n\\newcommand{\\Expect}[1]{\\E\\left[ #1 \\right]}\n\\newcommand{\\Var}[1]{\\mathrm{Var}\\left[ #1 \\right]}\n\\newcommand{\\Cov}[2]{\\mathrm{Cov}\\left[#1,\\ #2\\right]}\n\\newcommand{\\given}{\\ \\vert\\ }\n\\newcommand{\\X}{\\mathbf{X}}\n\\newcommand{\\x}{\\mathbf{x}}\n\\newcommand{\\y}{\\mathbf{y}}\n\\newcommand{\\P}{\\mathcal{P}}\n\\newcommand{\\R}{\\mathbb{R}}\n\\newcommand{\\norm}[1]{\\left\\lVert #1 \\right\\rVert}\n\\newcommand{\\snorm}[1]{\\lVert #1 \\rVert}\n\\newcommand{\\tr}[1]{\\mbox{tr}(#1)}\n\\newcommand{\\brt}{\\widehat{\\beta}^R_{s}}\n\\newcommand{\\brl}{\\widehat{\\beta}^R_{\\lambda}}\n\\newcommand{\\bls}{\\widehat{\\beta}_{ols}}\n\\newcommand{\\blt}{\\widehat{\\beta}^L_{s}}\n\\newcommand{\\bll}{\\widehat{\\beta}^L_{\\lambda}}\n\\newcommand{\\U}{\\mathbf{U}}\n\\newcommand{\\D}{\\mathbf{D}}\n\\newcommand{\\V}{\\mathbf{V}}\n\\]"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#attribution",
    "href": "schedule/slides/simulation-1.html#attribution",
    "title": "UBC DSCI 200",
    "section": "Attribution",
    "text": "Attribution\n\nThis material is based on content adapted from\n\nChapters 1, 2.1-2.3, and 4.1-4.3 of An Introduction to Probability and Simulation"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#learning-objectives",
    "href": "schedule/slides/simulation-1.html#learning-objectives",
    "title": "UBC DSCI 200",
    "section": "Learning Objectives",
    "text": "Learning Objectives\n\n\nUnderstand the mechanisms for generating and simulating data.\nContrast empirical and theoretical distributions.\nUse simulations to approximate probability of events or distribution functions.\nUse simulations to assess theoretical properties of random variables.\nExplore the Central Limit Theorem (CLT) and Law of Large Numbers (LLN).\nWrite reproducible simulation code.\nInterpret and reflect on simulation results using plots and summary statistics."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#last-time-randomness-and-distributions",
    "href": "schedule/slides/simulation-1.html#last-time-randomness-and-distributions",
    "title": "UBC DSCI 200",
    "section": "Last time: Randomness and distributions",
    "text": "Last time: Randomness and distributions\n\nIn a random phenomenon there is uncertainty about which of several potential outcomes will take place.\n\nOutcomes or events may not be equally likely.\nRandomness may be the result of physical events, selection, assignment, or complex processes, among others.\n\nProbability of events: a number in \\([0, 1]\\) that measures the uncertainty of an event.\nA random variable assigns numbers to outcomes of a random process\n\ndiscrete (countable values) or continuous (range of values)\n\nThe distribution of a random variable is a function that describes its variability\n\nsome of them have formulas and special names (e.g., Binomial, Uniform, Normal).\n\n\nToday, we’ll use computer code to simulate randomness and recreate random processes, under our full control, many times!!"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#recall",
    "href": "schedule/slides/simulation-1.html#recall",
    "title": "UBC DSCI 200",
    "section": "Recall…",
    "text": "Recall…\nRandomness can come from:\n\nphysical events (e.g, flipping a coin)\nselection mechanisms (e.g., selecting individuals from a population)\nexperimental designs (random assignment in a controlled experiment)\ncomplex systems (e.g., stock market fluctuations)\n\n\n\nsimulations or algorithms (e.g., random number generator in software)\n\n\n\nbiological processes (e.g., random assortment of chromosomes)\n\nWhich of these random processes can we easily repeat thousands of times? difficult or impossible to reproduce in practice?\nSimulation lets us recreate random processes in a controlled and repeatable way."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#simulations",
    "href": "schedule/slides/simulation-1.html#simulations",
    "title": "UBC DSCI 200",
    "section": "Simulations",
    "text": "Simulations\n\n\n\n\n\n\nDefinition\n\n\nSimulation is a way of recreating a random process with code so that we can repeatedly observe its outcomes and reproduce the same process under identical conditions.\n\n\n\n\nEach simulation run randomly results in one possible outcome of the process.\nMany runs reveal patterns of variability in the outcomes of the process.\n\nHowever,\n\na real process may be difficult to recreate with code!\nwe may need to make many (and some unrealistic) assumptions to recreate a process.\neven when a process is easy to describe, simulating it many times may be computationally costly.\n\nSimulation trades analytical difficulty or lack of feasibility for computational effort"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#what-do-we-use-simulation-for",
    "href": "schedule/slides/simulation-1.html#what-do-we-use-simulation-for",
    "title": "UBC DSCI 200",
    "section": "What do we use simulation for?",
    "text": "What do we use simulation for?\n\nWe often use simulation to:\n\napproximate a probability that it’s hard to compute analytically\napproximate a distribution that is unknown or difficult to derive\nunderstand variability (e.g., a standard error)\nstudy properties of estimators\n\nSimulation answers questions that cannot be answered from a single realization of a random process."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#how-do-we-build-a-simulation",
    "href": "schedule/slides/simulation-1.html#how-do-we-build-a-simulation",
    "title": "UBC DSCI 200",
    "section": "How do we build a simulation?",
    "text": "How do we build a simulation?\nTo simulate a process, we follow a clear set of steps.\n\n\n\n\n\nDefine the process we want to simulate\n\n\nSpecify how randomness enters the process\n\n\nDecide what to record from each run\n\n\nRepeat the process many times\n\n\nSummarize the results across runs\n\n\n\n\n\nPhoto by James Lee on Unsplash\n\n\n\nSimulation is structured repetition, not trial and error."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#define-the-process",
    "href": "schedule/slides/simulation-1.html#define-the-process",
    "title": "UBC DSCI 200",
    "section": "1. Define the process",
    "text": "1. Define the process\n\nA simulation always starts with a clearly defined process.\n\nWhat is the real or hypothetical process we want to mimic?\nWhat assumptions are needed to describe this process?\nWhat aspects of the process are held fixed across repetitions?\n\n\nWe simulate the mechanism that generates data, not a single observed outcome."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#example-approximating-a-probability-by-simulation",
    "href": "schedule/slides/simulation-1.html#example-approximating-a-probability-by-simulation",
    "title": "UBC DSCI 200",
    "section": "Example: approximating a probability by simulation",
    "text": "Example: approximating a probability by simulation\n\nOne of the oldest documented problems in probability asks the following question:\n\nIf three fair six-sided dice are rolled, what is more likely: a sum of 9 or a sum of 10?\n\n\nuse this link to virtually roll 3 dice\nrecord if you get a sum of 9, of 10, or neither\nrepeat 15 times\nuse this link to share what you found\n\n\n\nFrom Probability and Simulation"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#icliker-1-define-the-random-process",
    "href": "schedule/slides/simulation-1.html#icliker-1-define-the-random-process",
    "title": "UBC DSCI 200",
    "section": "iCliker 1: define the random process",
    "text": "iCliker 1: define the random process\n\nWhat is the random process we would repeat many times using code?\n\n\nRolling three physical dice in the classroom\n\n\nGenerating three independent outcomes from \\(\\{1, \\ldots, 6\\}\\) with equal probability\n\n\nCounting how often sums of 9 and 10 appear in our observed rolls\n\n\nComputing the probabilities using a formula"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#icliker-2-add-randomness",
    "href": "schedule/slides/simulation-1.html#icliker-2-add-randomness",
    "title": "UBC DSCI 200",
    "section": "iCliker 2: add randomness",
    "text": "iCliker 2: add randomness\n\nIn the three-dice problem, how does randomness enter the process?\n\n\nThe probabilities of each sum are random\n\n\nThe simulation randomly decides whether the sum is 9 or 10\n\n\nEach die outcome is random, but the chances of each outcome stay the same run to run\n\n\nThe probability of each outcome changes run to run"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#in-r",
    "href": "schedule/slides/simulation-1.html#in-r",
    "title": "UBC DSCI 200",
    "section": "in R",
    "text": "in R\n\nthree_dice &lt;- sample(1:6, size = 3, replace = TRUE)\n\nthree_dice\n\n[1] 6 3 2\n\nsum(three_dice)\n\n[1] 11\n\n\nEvery time we run this code, we’re simulating one roll of three fair dice! the outcome varies randomly but the probability model is fixed.\nThe code defines the random process by specifying:\n\n\nwhat varies\nwhat is fixed\nwhich function generates the random outcomes (e.g., sample())"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#record-from-each-run",
    "href": "schedule/slides/simulation-1.html#record-from-each-run",
    "title": "UBC DSCI 200",
    "section": "Record from each run",
    "text": "Record from each run\nEvery time we run this code, we’re simulating one roll of three fair dice! What we record from each run??\n\nBack to the 3-dice example\n\nIf three fair six-sided dice are rolled, what is more likely: a sum of 9 or a sum of 10?\n\nYou played with the random generator app and already made a decision of what to record. What did you record from each run?\nEnter your answer here\nAll choices are valid, but some are more efficient for the question we want to answer."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#choice-of-what-to-record",
    "href": "schedule/slides/simulation-1.html#choice-of-what-to-record",
    "title": "UBC DSCI 200",
    "section": "Choice of what to record",
    "text": "Choice of what to record\nWe may record different results from the same random process!\nWhat we record from each simulation run depends on the question we are trying to answer.\n\n\nIf the goal is to study dice behavior → record all dice\nIf the goal is to compare sums → record the sum\nIf the goal is a probability → record an indicator\n\n\nWe may also record results in anticipation of future questions.\nLater, we’ll see how we can make simulations reproducible by controlling the random number generator."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#in-r-1",
    "href": "schedule/slides/simulation-1.html#in-r-1",
    "title": "UBC DSCI 200",
    "section": "in R",
    "text": "in R\nWrite code to record the following outcomes from one run\n\nindividual outcomes of the 3 dice\nthe sum of the 3 dice\nindicator variables to record whether the sum is 9 or whether it is 10\n\n\n# One run of the process (3 fair dice)\nsample(1:6, size = 3, replace = TRUE)\n\n[1] 4 2 5"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#repeat",
    "href": "schedule/slides/simulation-1.html#repeat",
    "title": "UBC DSCI 200",
    "section": "Repeat",
    "text": "Repeat\nCompare the result you obtained with others. Did you get the same result?\n\n\nEveryone simulated the same process\nEveryone followed the same instructions\nEveryone most probably got different answers\n\n\n\nSo… which answer is correct?\n\nAll results are correct, but a single run tells us almost nothing about a probability.\nTo approximate probabilities we need the proportion of times events occur across many runs."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#in-r-2",
    "href": "schedule/slides/simulation-1.html#in-r-2",
    "title": "UBC DSCI 200",
    "section": "in R",
    "text": "in R\nYou already repeated the process a few times by hand. Code lets us repeat it thousands of times, consistently!\nLet’s repeat it \\(10000\\) times!\n\n#sums &lt;- ...(10000, ...(sample(1:6, ..., replace = TRUE)))\n\n#head(sums)"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#summarize",
    "href": "schedule/slides/simulation-1.html#summarize",
    "title": "UBC DSCI 200",
    "section": "Summarize",
    "text": "Summarize\nOnce we have many runs, we summarize the results to answer our question.\n\nWe approximate each probability by the proportion of runs in which each sum occur.\n\nBut what we compute depends on what we recorded.\nWe can compute the proportion of sums equal to 9 using:\n\nmean()\nsum()\ntable()"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#in-r-3",
    "href": "schedule/slides/simulation-1.html#in-r-3",
    "title": "UBC DSCI 200",
    "section": "in R",
    "text": "in R\n\nsums &lt;- replicate(10000,\n  sum(sample(1:6, size = 3, replace = TRUE))\n)\n\nc( prob_9_hat = mean(sums==9),\nprob_10_hat = mean(sums==10))\n\n prob_9_hat prob_10_hat \n     0.1109      0.1250 \n\n\n\nAccording to our approximation, it seems that the probability of getting a sum of 10 is higher than that of getting 9!\n\n\n\n\n\n\nCaution\n\n\nCan you reproduce your result?? Run the code again!"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#reproducibility",
    "href": "schedule/slides/simulation-1.html#reproducibility",
    "title": "UBC DSCI 200",
    "section": "Reproducibility",
    "text": "Reproducibility\n\nR generates random outcomes using a random number generator.\nIf we fix the starting point of that generator, R can reproduce the same random outcomes!\n\nTo make a simulation reproducible, we set the seed at any value!\n\nset.seed(200)\n\nsums &lt;- replicate(10000,\n  sum(sample(1:6, size = 3, replace = TRUE))\n)\n\nc(prob_9_hat = mean(sums==9),\nprob_10_hat = mean(sums==10))\n\n prob_9_hat prob_10_hat \n     0.1159      0.1213"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#section-1",
    "href": "schedule/slides/simulation-1.html#section-1",
    "title": "UBC DSCI 200",
    "section": "",
    "text": "library(ggplot2)\nlibrary(tidyr)\n\nthree_dice_df &lt;- data.frame(\n  runs = seq_along(sums),\n  `prob_9_hat`  = cumsum(sums == 9)  / seq_along(sums),\n  `prob_10_hat` = cumsum(sums == 10) / seq_along(sums)\n)\n\nthree_dice_long &lt;- tidyr::pivot_longer(\n  three_dice_df,\n  -runs,\n  names_to = \"event\",\n  values_to = \"estimate\"\n)\n\np_long_run &lt;- ggplot(three_dice_long, aes(x = runs, y = estimate, color = event)) +\n  geom_line() +\n  geom_hline(yintercept = c(25, 27)/216,\n             linetype = \"dashed\",\n             color = c(\"#1b9e77\", \"#d95f02\")) +\n  labs(\n    x = \"Number of simulation runs\",\n    y = \"Estimated probability\",\n    color = \"\",\n    title = \"Approximating probabilities by simulation\"\n  ) +\n  theme(\n  text = element_text(size = 10),\n  axis.title = element_text(size = 10),\n  axis.text  = element_text(size = 9),\n  legend.title = element_text(size = 9),\n  legend.text  = element_text(size = 9),\n  plot.title = element_text(size = 11)\n)\n\nIn this example, the probabilities are not that difficult to compute analytically (horizontal lines)."
  },
  {
    "objectID": "schedule/slides/simulation-1.html#section-2",
    "href": "schedule/slides/simulation-1.html#section-2",
    "title": "UBC DSCI 200",
    "section": "",
    "text": "p_long_run"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#iclicker-3-reproducibility",
    "href": "schedule/slides/simulation-1.html#iclicker-3-reproducibility",
    "title": "UBC DSCI 200",
    "section": "iClicker 3: reproducibility",
    "text": "iClicker 3: reproducibility\nConsider the following 2 codes:\n\nanswer1 &lt;- replicate(10, sum(sample(1:6, size = 3, replace = TRUE)))\n\nset.seed(200) \n\nreplicate(1000, sum(sample(1:6, size = 3, replace = TRUE))) \n\nreplicate(100, sum(sample(1:6, size = 3, replace = TRUE)))\n\nreplicate(10, sum(sample(1:6, size = 3, replace = TRUE)))\n\nand\n\nanswer1 &lt;- replicate(10, sum(sample(1:6, size = 3, replace = TRUE)))\n\nset.seed(200)  \n\nreplicate(1000, sum(sample(1:6, size = 3, replace = TRUE))) \n\nreplicate(100, sum(sample(1:6, size = 3, replace = TRUE))) \n\nanswer1\n\nBoth codes give the same result. A: TRUE or B: FALSE"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#iclicker-4",
    "href": "schedule/slides/simulation-1.html#iclicker-4",
    "title": "UBC DSCI 200",
    "section": "iClicker 4",
    "text": "iClicker 4\nA population mean can be estimated with a sample mean. But is this a good estimator?\nNext class, we will use the wildfire data as an example of a population to answer this question. What is the random process we would simulate?\n\n\nCalculating the mean temperature from the full wildfire dataset\n\n\nRandomly sampling wildfire observations and computing their mean temperature\n\n\nGenerating temperatures from a theoretical distribution\n\n\nRepeating the same wildfire observation many times"
  },
  {
    "objectID": "schedule/slides/simulation-1.html#key-takeaways",
    "href": "schedule/slides/simulation-1.html#key-takeaways",
    "title": "UBC DSCI 200",
    "section": "Key takeaways",
    "text": "Key takeaways\n\n\nA simulation starts by defining a random process\n\nWe must define what can vary, what is fixed, and how randomness is generated.\n\nWhat we record from each run depends on the question\n\nThe same random process can produce many valid results\nChoosing what to record is part of the modeling decision.\n\nA single run is not informative about probability\n\nProbabilities are approximated using frequencies across many runs, not individual outcomes.\n\nRepeating the same process many times is needed to study patterns.\nSetting the seed to generate randomness allows reproducibility."
  }
]